(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=t(e);fetch(e.href,o)}})();function b(){const c=document.querySelectorAll(".promo__content-item");function n(){const t=Math.floor(Math.random()*c.length);c[t].classList.add("_active")}c.forEach(t=>{t.addEventListener("click",()=>{c.forEach(s=>s.classList.remove("_active")),t.classList.add("_active")}),t.addEventListener("mouseenter",()=>{c.forEach(s=>s.classList.remove("_active")),t.classList.add("_active")}),t.addEventListener("mouseleave",()=>{t.classList.contains("_active")||t.classList.remove("_active")})}),n()}function p(){const c=document.querySelectorAll('input[name="color"]'),n={},t=Math.floor(Math.random()*c.length);c[t].checked=!0,c.forEach(e=>{const o=document.querySelector(`label[for="${e.id}"] .promo-card__round`);n[e.id]=o,e.checked&&o.classList.add("_active")});function s(e){Object.values(n).forEach(o=>o.classList.remove("_active")),e in n&&n[e].classList.add("_active")}document.addEventListener("change",e=>{e.target.name==="color"&&s(e.target.id)})}function y(){document.addEventListener("DOMContentLoaded",function(){const c=document.querySelectorAll(".promo__tag-item"),n=document.getElementById("message"),t=document.getElementById("cursor");let s=!1;document.querySelector("[data-cross-button]").addEventListener("click",function(){const i=this,r=i.querySelector(".btn__label");i.classList.toggle("btn--secondary"),i.disabled=!0,r.textContent=r.textContent==="Получить идею"?"Поменяйте что-то в фильтрах":"Получить идею"});function e(){o(c[Math.floor(Math.random()*c.length)])}function o(i){c.forEach(r=>r.classList.remove("_active")),i.classList.add("_active"),a(i.textContent.trim())}function a(i){if(s)return;s=!0;const m={Коллеги:"Сканируем офисные будни",Партнёр:"Запущена программа ROMANTIKA",Семья:"Уровень тепла настроен на 100%",Друзья:"Анализируем весёлые воспоминания"}[i]||"...";n.textContent="",t.style.opacity=1;let d=0;function f(){d<m.length?(n.textContent+=m.charAt(d),l(),d++,requestAnimationFrame(f)):(s=!1,t.style.opacity=0)}f()}function l(){t.style.height=`${n.offsetHeight}px`}document.addEventListener("click",function(i){i.target.classList.contains("promo__tag-item")&&o(i.target)}),e()})}function _(){const c=document.getElementById("promoVideo"),n=document.getElementById("giftImage"),t=document.querySelector(".promo__info-card"),s=document.querySelector(".promo__banner"),e=t.querySelector(".info-card__btn"),o=document.createElement("button");o.classList.add("info-card__btn","btn","btn--primary","btn--size-small"),o.innerHTML='<span class="info-card__btn btn__label">Вернуться к идее</span>';function a(l){const i=window.innerWidth;let r;if(i>=768)switch(s.style.display="none",l){case"color-blue":r="img/bg/bg-img-blue-md.webp";break;case"color-green":r="img/bg/bg-img-green-md.webp";break;case"color-purple":r="img/bg/bg-img-purple-md.webp";break;case"color-cyan":r="img/bg/bg-img-turquoise-md.webp";break;default:r=""}else switch(s.style.display="block",l){case"color-blue":r="img/bg/bg-img-blue.webp";break;case"color-green":r="img/bg/bg-img-green.webp";break;case"color-purple":r="img/bg/bg-img-purple.webp";break;case"color-cyan":r="img/bg/bg-img-turquoise.webp";break;default:r=""}n.src=r,n.style.display="block"}document.querySelector(".promo__btn").addEventListener("click",function(){c.style.display="none",t.classList.add("_active"),s.classList.add("_active");const l=document.querySelector('input[name="color"]:checked');l&&a(l.id)}),e.addEventListener("click",function(){t.querySelector(".info-card__title").textContent="Как сделать?",t.querySelector(".info-card__text").textContent="Расскажите YandexGPT о коллегах \u2028и попросите её написать новогодние поздравления в стиле гороскопа. Чтобы предсказания получился интереснее, задайте в промте роль для нейросети (например, «представь, что ты астролог с десятилетним стажем») \u2028и добавьте побольше деталей.",t.querySelector(".info-card__footer").replaceChild(o,e)}),o.addEventListener("click",function(){t.querySelector(".info-card__title").textContent="Рабочий нейрогороскоп",t.querySelector(".info-card__text").textContent="Сгенерируйте коллегам предсказания на следующий год. Если звёзды напророчат кому-то новые возможности, добавьте в послание промокод от Яндекс Практикума. \u2028Так ваш праздничный прогноз превратится в новые навыки или даже целую профессию. ",t.querySelector(".info-card__footer").replaceChild(e,o)})}y();b();p();_();const u=document.getElementById("promoVideo");function g(){const c=document.getElementById("mobileSource").src,n=document.getElementById("desktopSource").src;window.innerWidth<=767?u.src=c:u.src=n,u.load()}window.addEventListener("load",g);window.addEventListener("resize",g);
